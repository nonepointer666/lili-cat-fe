{"version":3,"file":"config.js","sources":["api/config.js"],"sourcesContent":["import { env } from '../env.js'\r\n\nconst BASE_URL = env.apiUrl; // 根据环境配置不同的基地址\n\nconst request = (options) => {\n  return new Promise((resolve, reject) => {\n    uni.request({\n      url: BASE_URL + options.url, // 拼接完整 URL\n      method: options.method || 'GET', // 默认 GET 请求\n      data: options.data || {}, // 请求参数\n      header: {\n        'Content-Type': 'application/json', // 默认请求头\n        ...options.header, // 自定义请求头\n      },\n      success: (res) => {\n        if (res.statusCode === 200) {\n          resolve(res.data); // 请求成功\n        } else {\n          reject(res.data); // 请求失败\n        }\n      },\n      fail: (err) => {\n        reject(err); // 网络错误\n      },\n    });\n  });\n};\n\nexport default request;"],"names":["env","uni"],"mappings":";;;AAEA,MAAM,WAAWA,IAAG,IAAC;AAEhB,MAAC,UAAU,CAAC,YAAY;AAC3B,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCC,kBAAAA,MAAI,QAAQ;AAAA,MACV,KAAK,WAAW,QAAQ;AAAA;AAAA,MACxB,QAAQ,QAAQ,UAAU;AAAA;AAAA,MAC1B,MAAM,QAAQ,QAAQ,CAAE;AAAA;AAAA,MACxB,QAAQ;AAAA,QACN,gBAAgB;AAAA;AAAA,QAChB,GAAG,QAAQ;AAAA;AAAA,MACZ;AAAA,MACD,SAAS,CAAC,QAAQ;AAChB,YAAI,IAAI,eAAe,KAAK;AAC1B,kBAAQ,IAAI,IAAI;AAAA,QAC1B,OAAe;AACL,iBAAO,IAAI,IAAI;AAAA,QAChB;AAAA,MACF;AAAA,MACD,MAAM,CAAC,QAAQ;AACb,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;"}